{"remainingRequest":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\babel-loader\\lib\\index.js??ref--12-1!C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\src\\views\\Login.vue","mtime":1608279316366},{"path":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608279293549},{"path":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1608279291206},{"path":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1608279293549},{"path":"C:\\Users\\luohoang\\Documents\\Project\\Th-lao-Fiber\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1608279312175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZhY3RvcnkgZnJvbSAiLi4vc2VydmVyL2ZhY3RvcnkvZmFjdG9yeSI7CmltcG9ydCBjb21tb24gZnJvbSAnQC9zZXJ2ZXIvY29tbW9uL2NvbW1vbi5qcyc7CnZhciBhdXRoID0gZmFjdG9yeS5nZXQoImF1dGgiKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL8SQxINuZyBuaOG6rXAKICAgICAgbG9naW5WYWxpZDogZmFsc2UsCiAgICAgIHVzZXJuYW1lOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgdGV4dFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdLaMO0bmcgxJHGsOG7o2MgYuG7jyB0cuG7kW5nJzsKICAgICAgfV0sCiAgICAgIC8vc25hcGJhcgogICAgICBzbmFja2JhcjogZmFsc2UsCiAgICAgIHRleHQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL8SQxINuZyBuaOG6rXAKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIHZhbGlkYXRlID0gdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoKTsKCiAgICAgIGlmICh2YWxpZGF0ZSkgewogICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICB2YXIgdXNlciA9IHsKICAgICAgICAgIG1hX05EOiBzZWxmLnVzZXJuYW1lLAogICAgICAgICAgTWF0a2hhdTogc2VsZi5wYXNzd29yZAogICAgICAgIH07CiAgICAgICAgYXV0aC5hdXRoKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHsKICAgICAgICAgICAgICBtYV9ORDogcmVzcG9uc2UuZGF0YS5kYXRhLm5ndW9pZHVuZy5tYV9ORCwKICAgICAgICAgICAgICB0ZW5fTlY6IHJlc3BvbnNlLmRhdGEuZGF0YS5uZ3VvaWR1bmcudGVuX05WLAogICAgICAgICAgICAgIHRva2VuOiByZXNwb25zZS5kYXRhLmRhdGEudG9rZW4uYWNjZXNzX3Rva2VuLAogICAgICAgICAgICAgIHF1eWVuX0lEOiByZXNwb25zZS5kYXRhLmRhdGEucXV5ZW4ucXV5ZW5faWQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgdmFyIG5leHRob3VyID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgbmV4dGhvdXIuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyByZXNwb25zZS5kYXRhLmRhdGEudG9rZW4uZXhwaXJlc19pbiAvIDg2NDAwKTsKICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gInRva2VuX3Nlc3Npb249IiArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICI7ZXhwaXJlcyA9IiArIG5leHRob3VyICsgIiI7CiAgICAgICAgICAgIHNlbGYudGV4dCA9ICLEkMSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZyI7CiAgICAgICAgICAgIHNlbGYuc25hY2tiYXIgPSB0cnVlOwogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYudGV4dCA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgc2VsZi5zbmFja2JhciA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA,OAAA,OAAA,MAAA,2BAAA;AACA,OAAA,MAAA,MAAA,2BAAA;AACA,IAAA,IAAA,GAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AAEA,MAAA,UAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,QAAA,EAAA,IALA;AAMA,MAAA,SAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,qBAAA;AAAA,OADA,CANA;AAUA;AAEA,MAAA,QAAA,EAAA,KAZA;AAaA,MAAA,IAAA,EAAA;AAbA,KAAA;AAgBA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AAIA;AACA,IAAA,KALA,mBAKA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,SAAA,CAAA,QAAA,EAAA;;AACA,UAAA,QAAA,EACA;AACA,YAAA,IAAA,GAAA,IAAA;AACA,YAAA,IAAA,GAAA;AAAA,UAAA,KAAA,EAAA,IAAA,CAAA,QAAA;AAAA,UAAA,OAAA,EAAA,IAAA,CAAA;AAAA,SAAA;AACA,QAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,gBAAA,KAAA,GAAA;AACA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KADA;AAEA,cAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,MAFA;AAGA,cAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,YAHA;AAIA,cAAA,QAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AAJA,aAAA;AAMA,gBAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,gBAAA,QAAA,GAAA,IAAA,IAAA,EAAA;AACA,YAAA,QAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,KAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,UAAA,GAAA,KAAA;AACA,YAAA,QAAA,CAAA,MAAA,GAAA,mBAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,YAAA,GAAA,QAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,GAAA,sBAAA;AACA,YAAA,IAAA,CAAA,QAAA,GAAA,IAAA;AACA,YAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AAEA,WAfA,MAeA;AACA,YAAA,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,YAAA,IAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,SApBA;AAqBA;AACA;AAjCA;AAnBA,CAAA","sourcesContent":["<template>\r\n    <v-container class=\"fill-height\">\r\n        <v-row align=\"center\" justify=\"center\" no-gutters>\r\n            <v-col cols=\"12\" sm=\"5\">\r\n                <v-card\r\n                class=\"mx-auto\"\r\n                max-width=\"auto\"\r\n                outlined>\r\n                    <v-card-text>\r\n                        <v-card-title class=\"blue--text darken-1--text\">\r\n                            ĐĂNG NHẬP\r\n                        </v-card-title>\r\n                        \r\n                        <v-card-subtitle  class=\"blue--text darken-1--text\">\r\n                            Chương trình tính thù lao Fiber\r\n                        </v-card-subtitle>\r\n                         <v-row align=\"center\" justify=\"center\" no-gutters>\r\n                            <v-col cols=\"12\" sm=\"10\">\r\n                            <v-form\r\n                            ref=\"loginForm\"\r\n                            v-model=\"loginValid\"\r\n                            lazy-validation\r\n                            >\r\n                                <v-text-field\r\n                                outlined\r\n                                dense\r\n                                v-model=\"username\"\r\n                                :rules=\"textRules\"\r\n                                label=\"Người dùng\"\r\n                                \r\n                                required\r\n                                ></v-text-field>\r\n                                <v-text-field\r\n                                outlined\r\n                                dense\r\n                                v-model=\"password\"\r\n                                :rules=\"textRules\"\r\n                                :type=\"'password'\"\r\n                                label=\"Mật khẩu\"\r\n                                required\r\n                                ></v-text-field>\r\n                                <v-row align=\"center\" justify=\"center\" no-gutters>\r\n                                    <v-btn\r\n                                    color=\"primary\"\r\n                                    depressed\r\n                                    @click=\"login()\"\r\n                                    :disabled=\"!loginValid\"\r\n                                    >\r\n                                    Đăng nhập\r\n                                    </v-btn>\r\n                                </v-row>\r\n                            </v-form>\r\n                            </v-col>\r\n                         </v-row>\r\n                    </v-card-text>\r\n                \r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n        <v-row>\r\n            <v-snackbar\r\n                v-model=\"snackbar\"\r\n                >\r\n                {{ text }}\r\n                <template v-slot:action=\"{ attrs }\">\r\n                    <v-btn\r\n                    color=\"primary\"\r\n                    text\r\n                    v-bind=\"attrs\"\r\n                    @click=\"snackbar = false\"\r\n                    >\r\n                    Đóng\r\n                    </v-btn>\r\n                </template>\r\n            </v-snackbar>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport factory from \"../server/factory/factory\";\r\nimport common from '@/server/common/common.js';\r\nconst auth = factory.get(\"auth\");\r\nexport default {\r\n    data() {\r\n        return {\r\n            //Đăng nhập\r\n\r\n            loginValid:false,\r\n            username:null,\r\n            password:null,\r\n            textRules: [\r\n                v => !!v || 'Không được bỏ trống',\r\n            ],\r\n\r\n            //snapbar\r\n\r\n            snackbar: false,\r\n            text: null,\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n       \r\n\r\n        \r\n        //Đăng nhập\r\n        login() {\r\n            var validate = this.$refs.loginForm.validate();\r\n            if(validate)\r\n            {\r\n                var self=this;\r\n                var user={ma_ND:self.username, Matkhau:self.password};\r\n                auth.auth(user).then(response=>{\r\n                    if(response.data.success){\r\n                        var value = {\r\n                            ma_ND: response.data.data.nguoidung.ma_ND,\r\n                            ten_NV: response.data.data.nguoidung.ten_NV,\r\n                            token: response.data.data.token.access_token,\r\n                            quyen_ID: response.data.data.quyen.quyen_id\r\n                        };\r\n                        var today = new Date();\r\n                        var nexthour = new Date();\r\n                        nexthour.setDate(today.getDate() + response.data.data.token.expires_in/86400);\r\n                        document.cookie = \"token_session=\" + JSON.stringify(value) + \";expires =\" +nexthour +\"\";\r\n                        self.text=\"Đăng nhập thành công\";\r\n                        self.snackbar=true;\r\n                        self.$router.push(\"/home\");\r\n                        \r\n                    }else{\r\n                        self.text=response.data.message;\r\n                        self.snackbar=true;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":"src/views"}]}